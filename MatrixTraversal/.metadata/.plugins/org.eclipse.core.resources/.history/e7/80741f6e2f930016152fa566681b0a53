/**
 * author : Saikrishna Gollapudi
 */
package org.gollax.matrixtraversal;

public class MatrixTraversal {
	
	public static void traverse(Matrix m){
		if(m!=null){
			try {
				traverse(m,0,m.getRowCount()-1,0,m.getColumnCount()-1);
			} catch (MatrixOperationException e) {
				e.printStackTrace();
			}
		}
	}

	private static void traverse(Matrix m, int startRow, int endRow,
			int startColumn, int endColumn) throws MatrixOperationException {
		if (rangeCheck(m, startRow, endRow, startColumn, endColumn)) {
			for (int index = startColumn; index < endColumn; index++) {
				doSomething(m.getValue(startRow, index));
			}
			for (int index = startRow + 1; index < endRow; index++) {
				doSomething(m.getValue(index, endColumn));
			}
			for (int index = endColumn - 1; index < startRow; --index) {
				doSomething(m.getValue(endRow, index));
			}
			for (int index = endRow + 1; index < startRow; --index) {
				doSomething(m.getValue(index, startColumn));
			}
			if (startRow - endRow > 1 && startColumn - endColumn > 1) {
				traverse(m, startRow++, --endRow, startColumn++, --endColumn);
			}
		}
	}

	private static boolean rangeCheck(Matrix m, int startRow, int endRow,
			int startColumn, int endColumn) {
		if (m != null) {
			if (startRow >= 0 && startRow < m.getRowCount() && endRow >= 0
					&& endRow < m.getRowCount() && startColumn >= 0
					&& startColumn < m.getColumnCount() && endColumn >= 0
					&& endColumn < m.getColumnCount())
				return true;
		}
		return false;
	}

	private static void doSomething(int value) {
		System.out.println(value);
	}

}
